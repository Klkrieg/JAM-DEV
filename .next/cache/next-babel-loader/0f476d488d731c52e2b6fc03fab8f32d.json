{"ast":null,"code":"import mongoMiddleware from \"../../../utils/mongoMiddleware\";\nimport apiHandler from \"../../../utils/apiHandler\";\nexport default mongoMiddleware(async (req, res, connection, models) => {\n  const {\n    method,\n    body\n  } = req;\n  apiHandler(res, method, {\n    GET: response => {\n      models.User.find({}, (error, user) => {\n        if (error) {\n          connection.close();\n          response.status(500).json({\n            error\n          });\n        } else {\n          response.status(200).json(user);\n          connection.close();\n        }\n      });\n    }\n  });\n});","map":{"version":3,"sources":["/Users/karsonkrieg/Desktop/JAM-DEV/pages/api/resources.js"],"names":["mongoMiddleware","apiHandler","req","res","connection","models","method","body","GET","response","User","find","error","user","close","status","json"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,gCAA5B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AAEA,eAAeD,eAAe,CAAC,OAAOE,GAAP,EAAYC,GAAZ,EAAiBC,UAAjB,EAA6BC,MAA7B,KAAwC;AACtE,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAmBL,GAAzB;AAEAD,EAAAA,UAAU,CAACE,GAAD,EAAMG,MAAN,EAAc;AACvBE,IAAAA,GAAG,EAAGC,QAAD,IAAc;AAClBJ,MAAAA,MAAM,CAACK,IAAP,CAAYC,IAAZ,CAAiB,EAAjB,EAAqB,CAACC,KAAD,EAAQC,IAAR,KAAiB;AACrC,YAAID,KAAJ,EAAW;AACVR,UAAAA,UAAU,CAACU,KAAX;AACAL,UAAAA,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAAEJ,YAAAA;AAAF,WAA1B;AACA,SAHD,MAGO;AACNH,UAAAA,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0BH,IAA1B;AACAT,UAAAA,UAAU,CAACU,KAAX;AACA;AACD,OARD;AASA;AAXsB,GAAd,CAAV;AAaA,CAhB6B,CAA9B","sourcesContent":["import mongoMiddleware from \"../../../utils/mongoMiddleware\";\nimport apiHandler from \"../../../utils/apiHandler\";\n\nexport default mongoMiddleware(async (req, res, connection, models) => {\n\tconst { method, body } = req;\n\n\tapiHandler(res, method, {\n\t\tGET: (response) => {\n\t\t\tmodels.User.find({}, (error, user) => {\n\t\t\t\tif (error) {\n\t\t\t\t\tconnection.close();\n\t\t\t\t\tresponse.status(500).json({ error });\n\t\t\t\t} else {\n\t\t\t\t\tresponse.status(200).json(user);\n\t\t\t\t\tconnection.close();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n});\n"]},"metadata":{},"sourceType":"module"}