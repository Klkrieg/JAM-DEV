{"ast":null,"code":"//import bcrypt from \"bcrypt\";\nimport Users from \"../../../models/users.js\";\nimport dbConnect from \"../../../utils/dbConnect\";\nmongoose.connect(process.env.MONGODB_URI, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\nexport default (async (req, res) => {\n  const {\n    method\n  } = req;\n\n  switch (method) {\n    case \"GET\":\n      try {\n        const users = await Users.find({});\n        res.status(200).json({\n          success: \"true\",\n          data: users\n        });\n      } catch {\n        res.status(400);\n      }\n\n      break;\n\n    case \"POST\":\n      try {\n        const user = await Users.create(req.body);\n        res.status(201).json({\n          success: true,\n          data: user\n        });\n      } catch {\n        res.status(400).json({\n          succes: false\n        });\n      }\n\n  }\n});","map":{"version":3,"sources":["/Users/karsonkrieg/Desktop/JAM-DEV/pages/api/users/index.js"],"names":["Users","dbConnect","mongoose","connect","process","env","MONGODB_URI","useNewUrlParser","useUnifiedTopology","req","res","method","users","find","status","json","success","data","user","create","body","succes"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,0BAAlB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AAEAC,QAAQ,CAACC,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,WAA7B,EAA0C;AACzCC,EAAAA,eAAe,EAAE,IADwB;AAEzCC,EAAAA,kBAAkB,EAAE;AAFqB,CAA1C;AAIA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC,QAAM;AAAEC,IAAAA;AAAF,MAAaF,GAAnB;;AACA,UAAQE,MAAR;AACC,SAAK,KAAL;AACC,UAAI;AACH,cAAMC,KAAK,GAAG,MAAMZ,KAAK,CAACa,IAAN,CAAW,EAAX,CAApB;AACAH,QAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE,MAAX;AAAmBC,UAAAA,IAAI,EAAEL;AAAzB,SAArB;AACA,OAHD,CAGE,MAAM;AACPF,QAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX;AACA;;AACD;;AACD,SAAK,MAAL;AACC,UAAI;AACH,cAAMI,IAAI,GAAG,MAAMlB,KAAK,CAACmB,MAAN,CAAaV,GAAG,CAACW,IAAjB,CAAnB;AACAV,QAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE,IAAX;AAAiBC,UAAAA,IAAI,EAAEC;AAAvB,SAArB;AACA,OAHD,CAGE,MAAM;AACPR,QAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEM,UAAAA,MAAM,EAAE;AAAV,SAArB;AACA;;AAfH;AAiBA,CAnBD","sourcesContent":["//import bcrypt from \"bcrypt\";\nimport Users from \"../../../models/users.js\";\nimport dbConnect from \"../../../utils/dbConnect\";\n\nmongoose.connect(process.env.MONGODB_URI, {\n\tuseNewUrlParser: true,\n\tuseUnifiedTopology: true,\n});\nexport default async (req, res) => {\n\tconst { method } = req;\n\tswitch (method) {\n\t\tcase \"GET\":\n\t\t\ttry {\n\t\t\t\tconst users = await Users.find({});\n\t\t\t\tres.status(200).json({ success: \"true\", data: users });\n\t\t\t} catch {\n\t\t\t\tres.status(400);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"POST\":\n\t\t\ttry {\n\t\t\t\tconst user = await Users.create(req.body);\n\t\t\t\tres.status(201).json({ success: true, data: user });\n\t\t\t} catch {\n\t\t\t\tres.status(400).json({ succes: false });\n\t\t\t}\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}