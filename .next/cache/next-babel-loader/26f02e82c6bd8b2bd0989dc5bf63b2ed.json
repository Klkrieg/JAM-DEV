{"ast":null,"code":"import mongoose, { connection } from \"mongoose\";\n\nasync function dbConnect() {\n  if (connection.isConnected) {\n    return;\n  }\n\n  const db = await mongoose.connect(process.env.MONGODB_URI || \"mongodb://localhost/JAM\", {\n    useNewUrlParser: true,\n    useFindAndModify: false,\n    useUnifiedTopology: true\n  });\n  connection.isConnected = db.connections[0].readyState;\n  console.log(connection.isConnected);\n}\n\nexport default dbConnect;","map":{"version":3,"sources":["/Users/karsonkrieg/Desktop/JAM-DEV/utils/dbConnect.js"],"names":["mongoose","connection","dbConnect","isConnected","db","connect","process","env","MONGODB_URI","useNewUrlParser","useFindAndModify","useUnifiedTopology","connections","readyState","console","log"],"mappings":"AAAA,OAAOA,QAAP,IAAmBC,UAAnB,QAAqC,UAArC;;AAEA,eAAeC,SAAf,GAA2B;AAC1B,MAAID,UAAU,CAACE,WAAf,EAA4B;AAC3B;AACA;;AACD,QAAMC,EAAE,GAAG,MAAMJ,QAAQ,CAACK,OAAT,CAAiBC,OAAO,CAACC,GAAR,CAAYC,WAAZ,IAA2B,yBAA5C,EAAuE;AACvFC,IAAAA,eAAe,EAAE,IADsE;AAEvFC,IAAAA,gBAAgB,EAAE,KAFqE;AAGvFC,IAAAA,kBAAkB,EAAE;AAHmE,GAAvE,CAAjB;AAMAV,EAAAA,UAAU,CAACE,WAAX,GAAyBC,EAAE,CAACQ,WAAH,CAAe,CAAf,EAAkBC,UAA3C;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYd,UAAU,CAACE,WAAvB;AACA;;AAED,eAAeD,SAAf","sourcesContent":["import mongoose, { connection } from \"mongoose\";\n\nasync function dbConnect() {\n\tif (connection.isConnected) {\n\t\treturn;\n\t}\n\tconst db = await mongoose.connect(process.env.MONGODB_URI || \"mongodb://localhost/JAM\", {\n\t\tuseNewUrlParser: true,\n\t\tuseFindAndModify: false,\n\t\tuseUnifiedTopology: true,\n\t});\n\n\tconnection.isConnected = db.connections[0].readyState;\n\tconsole.log(connection.isConnected);\n}\n\nexport default dbConnect;\n"]},"metadata":{},"sourceType":"module"}